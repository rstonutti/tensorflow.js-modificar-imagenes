<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.0.0/dist/tf.min.js"></script>
  </head>
  <body>
    <h1>Espejar imagen con tensores</h1>
    <div>
      <img id="coca" src="/coca.jpg" />
      <canvas id="cocaCanvas" />
    </div>
    <script>
      const d = document;
      d.addEventListener("DOMContentLoaded", () => {
        const $cocaImage = d.getElementById("coca"),
          $cocaCanvas = d.getElementById("cocaCanvas"),
          nuevoTamaño = [512, 512],
          cocaTensor = tf.browser.fromPixels($cocaImage),
          tensorCocaRevertido = tf.reverse(cocaTensor, 1),
          tensorCocaModificado = tf.image.resizeNearestNeighbor(
            tensorCocaRevertido,
            nuevoTamaño,
            true
          );

        tf.browser.toPixels(tensorCocaModificado, $cocaCanvas).then(() => {
          cocaTensor.dispose();
          tensorCocaRevertido.dispose();
          tensorCocaModificado.dispose();
        });
      });
    </script>
  </body>
</html>
